Turbo Assembler	 Version 2.51	     03/13/22 19:23:04	    Page 1
lab_8.ASM
GRAFIC


      1				     ;Программа построения графика функции в текстовом   +
      2				     режиме экрана
      3				     ;Входные параметры:
      4				     ;массив значений элементов графика MAS
      5	0000			     .MODEL SMALL
      6	0000			     .DATA
      7	0000  00 01 05 08 09 08	05+  Mas     DB	0,1,5,8,9,8,5,1,0,-1,-5,-8,-9,-5,-1
      8	      01 00 FF FB F8 F7	FB+
      9	      FF
     10	000F  01C2 FEA2	0000 00FA +  Func    DW	450, -350, 0, 250, 375,	400, 420, 360, 250, 200, 150, 325, 300,	285, 200, 0, –200,+
     11	      0177 0190	01A4 0168 +  -275, -250, -150, -100, -50, 0, 50, 100, 150, 200
     12	      00FA 00C8	0096 0145 +
     13	      012C 011D	00C8 0000 +
     14	      00C8 FEED	FF06 FF6A +
     15	      FF9C FFCE	0000 0032 +
     16	      0064 0096	00C8
     17	0000			     .STACK 256	(?)
     18	0045			     .CODE
     19	0000			     Start:
     20	0000  B8 0000s		     mov AX, @DATA
     21	0003  8E D8		     mov DS, AX
     22				     ;---------	Задание режима экрана с очисткой			    +
     23				     ------------------------------
     24	0005  B4 00		     mov AH, 0
     25	0007  B0 03		     mov AL, 3 ;Режим 80х25, 16 цветов.
     26	0009  CD 10		     int 10h
     27				     ;-------- Построение вертикальной оси координат		    +
     28				     --------------------------
     29	000B  B7 00		     mov BH, 0		 ;Используем страницу	видеопамяти 0.
     30	000D  B2 25		     mov DL, 37		 ;Координаты начальной точки Х=5,
     31	000F  B6 01		     mov DH, 1		 ; Y =1.
     32	0011  B4 02		     met1: mov AH, 02h	 ;Выбираем функцию установки курсора.
     33	0013  CD 10		     int 10h		 ;Установка курсора.
     34	0015  B9 0001		     mov CX, 1		 ;Выводим по одному символу
     35	0018  B0 7C		     mov AL, 7Ch	 ;символ вертикальной	черточки.
     36	001A  B3 04		     mov BL, 04h	 ;Атрибут: ярко белый по черному фону.
     37	001C  B4 09		     mov AH, 09h	 ;Выбираем функцию вывода символа и	    +
     38				     ;атрибута в позицию курсора.
     39	001E  CD 10		     int 10h		 ;Вывод символа.
     40	0020  FE C6		     inc DH		 ;Переход к координате Y+1.
     41	0022  80 FE 18		     cmp DH, 24		 ;Сравнение с	нижней позицией.
     42	0025  72 EA		     jb	met1		 ;Если ниже, повторить	цикл вывода символа.
     43
     44	0027  B9 0001		     mov CX, 1	    ;Длина	цепочки символов.
     45	002A  B7 00		     mov BH, 0	     ;Используем страницу видеопамяти 0.
     46	002C  B2 25		     mov DL, 37	     ;Координаты первой	точки X=5
     47	002E  B6 01		     mov DH, 1	    ;Y=12.
     48	0030  B4 02		     mov AH, 02h
     49	0032  CD 10		     int 10h
     50	0034  B0 5E		     mov AL, 5Eh    ;Символ горизонтальной черточки
     51	0036  B3 04		     mov BL, 04h     ;ярко-белый по черному фону.
     52	0038  B4 09		     mov AH, 09h     ;отрисовка тела
     53	003A  CD 10		     int 10h
     54
     55	003C  B9 0001		     mov CX, 1	    ;Длина	цепочки символов.
     56	003F  B7 00		     mov BH, 0	     ;Используем страницу видеопамяти 0.
     57	0041  B2 27		     mov DL, 39	     ;Координаты первой	точки X=39
Turbo Assembler	 Version 2.51	     03/13/22 19:23:04	    Page 2
lab_8.ASM
GRAFIC


     58	0043  B6 01		     mov DH, 1	    ;Y=1.
     59	0045  B4 02		     mov AH, 02h
     60	0047  CD 10		     int 10h
     61	0049  B0 59		     mov AL, 59h    ;Символ горизонтальной черточки
     62	004B  B3 04		     mov BL, 04h     ;ярко-белый по черному фону.
     63	004D  B4 09		     mov AH, 09h     ;отрисовка тела
     64	004F  CD 10		     int 10h
     65
     66				     ;-------------Построение	горизонтальной оси координат	    +
     67				     -------------------
     68	0051  B7 00		     mov BH, 0
     69	0053  B2 05		     mov DL, 5	     ;Координаты начальной позиции Х=5,
     70	0055  B6 0C		     mov DH, 12	     ;Y=12.
     71	0057  B4 02		     mov AH, 02h     ;Выбираем функцию установки курсора.
     72	0059  CD 10		     int 10h
     73	005B  B9 0046		     mov CX, 70	     ;Длина цепочки	символов.
     74	005E  B0 5F		     mov AL, 5Fh     ;Символ горизонтальной	черточки
     75	0060  B3 04		     mov BL, 04h     ;ярко-белый по черному фону.
     76	0062  B4 09		     mov AH, 09h     ;отрисовка тела
     77	0064  CD 10		     int 10h
     78
     79	0066  B9 0001		     mov CX, 1	    ;Длина	цепочки символов.
     80	0069  B7 00		     mov BH, 0	     ;Используем страницу видеопамяти 0.
     81	006B  B2 4B		     mov DL, 75	     ;Координаты первой	точки X=75
     82	006D  B6 0C		     mov DH, 12	     ;Y=12.
     83	006F  B4 02		     mov AH, 02h
     84	0071  CD 10		     int 10h
     85	0073  B0 3E		     mov AL, 3Eh    ;Символ горизонтальной черточки
     86	0075  B3 04		     mov BL, 04h     ;ярко-белый по черному фону.
     87	0077  B4 09		     mov AH, 09h     ;отрисовка тела
     88	0079  CD 10		     int 10h
     89
     90	007B  B9 0001		     mov CX, 1	    ;Длина	цепочки символов.
     91	007E  B7 00		     mov BH, 0	     ;Используем страницу видеопамяти 0.
     92	0080  B2 4B		     mov DL, 75	     ;Координаты первой	точки X=75
     93	0082  B6 0B		     mov DH, 11	     ;Y=12.
     94	0084  B4 02		     mov AH, 02h
     95	0086  CD 10		     int 10h
     96	0088  B0 58		     mov AL, 58h    ;Символ горизонтальной черточки
     97	008A  B3 04		     mov BL, 04h     ;ярко-белый по черному фону.
     98	008C  B4 09		     mov AH, 09h     ;отрисовка тела
     99	008E  CD 10		     int 10h
    100
    101				     ;--------------Вывод точек графика----------------------------------------
    102	0090  BE 000Fr		     lea SI, Func    ;Загрузка адреса массива значений.
    103	0093  BF 001A		     mov DI, 26	     ;Установка счетчика циклов.
    104	0096  B9 0001		     mov CX, 1	     ;Вывод по одному символу.
    105	0099  B7 00		     mov BH, 0	     ;Используем страницу видеопамяти 0.
    106	009B  B2 0F		     mov DL, 15	     ;Координаты первой	точки X=5,
    107	009D			     met2:
    108	009D  B6 0D		     mov DH, 13	    ;Y=12.
    109	009F  2A 34		     sub DH, [SI]    ;Вычисление Y(i)	в системе координат графика.
    110	00A1  B4 02		     mov AH, 02h     ;Выбираем функцию установки курсора.
    111	00A3  CD 10		     int 10h	     ;Установка курсора	в вычисленную позицию
    112	00A5  B0 2A		     mov AL, 2Ah     ;Символ “*”. 2Ah	3Eh
    113	00A7  B3 02		     mov BL, 02h     ;Ярко красный по черному фону.
    114	00A9  B4 09		     mov AH, 09h     ;отрисовка тела
Turbo Assembler	 Version 2.51	     03/13/22 19:23:04	    Page 3
lab_8.ASM
GRAFIC


    115	00AB  CD 10		     int 10h	     ;Вывод символа.
    116	00AD  80 C2 02		     add DL, 2	     ;Следующая координата по Х.
    117	00B0  46		     inc SI	     ;Индекс следующего	элемента массива.
    118	00B1  4F		     dec DI	     ;Изменение счетчика циклов.
    119	00B2  75 E9		     jnz met2	     ;Повторить цикл, если ZF=0.
    120				     ;----------------Завершение программы------------------------------------
    121	00B4  B8 4C00		     mov AX, 4C00h
    122	00B7  CD 21		     int 21h
    123				     END Start
