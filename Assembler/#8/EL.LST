Turbo Assembler	 Version 2.51	     03/13/22 18:35:50	    Page 1
el.ASM
ELOCHKA


      1	0000			     .MODEL SMALL
      2	0000			     .STACK 256
      3	0000			     .DATA
      4	0000  68 61 70 70 79	     stroka_1 DB 'h','a','p','p','y'
      5	0005  6E 65 77		     stroka_2 DB 'n','e','w'
      6	0008  79 65 61 72	     stroka_3 DB 'y','e','a','r'
      7	000C			     .CODE
      8	0000			     Start:
      9
     10	0000  B8 0000s		     mov AX, @Data   ;Инициализировать
     11	0003  8E D8		     mov DS, AX		     ;сегментный регистр DS
     12	0005  33 C0		     xor ax, ax
     13
     14	0007  B4 00		     mov ah, 00h     ;выбор функции	задания режима экрана
     15	0009  B0 01		     mov al, 1h		     ;режим видеоадаптера 40х25, 16 цветов
     16
     17				     ;создание области
     18
     19	000B  B4 06		     mov ah, 06h     ;Функция прокрутки	вверх
     20	000D  B0 00		     mov al, 00h     ;Очистка всего	экрана
     21	000F  B7 07		     mov bh, 07h	     ;атрибут для очищяемых строк
     22	0011  B1 00		     mov cl, 0		     ;координата х
     23	0013  B5 00		     mov ch, 0		     ;координата у
     24	0015  B2 4F		     mov dl, 79		     ;ширина окна
     25	0017  B6 18		     mov dh, 24		     ;длина окна
     26	0019  CD 10		     int 10h		     ;вызов функции	BIOS
     27
     28	001B  B4 05		     mov ah, 05h	     ;установка активной видеостраницы
     29	001D  B0 01		     mov al, 01h	     ;номер видеостраницы
     30	001F  CD 10		     int 10h		     ;вызов функции	BIOS
     31
     32				     ;отрисовка рамки
     33
     34	0021  B4 09		     mov ah, 09h	     ;функция вывода символа
     35	0023  B7 01		     mov bh, 01h	     ;страница 1
     36	0025  B0 07		     mov al, 07h	     ;символ точка
     37	0027  B3 0F		     mov bl, 0fh	     ;ярко белый по черному
     38	0029  B9 0028		     mov cx, 028h    ;40 символов
     39	002C  CD 10		     int 10h		     ;вызов функции	BIOS
     40
     41	002E  B7 01		     mov bh, 01h     ;Используем страницу видеопамяти 0.
     42	0030  B2 00		     mov dl, 0		     ;Координаты начальной точки Х=0,
     43	0032  B6 00		     mov DH, 0		     ; Y = 0.
     44
     45	0034			     met1:
     46	0034  B4 02		     mov AH, 02h     ;Выбираем функцию установки курсора.
     47	0036  CD 10		     int 10h		     ;Установка курсора.
     48
     49	0038  B9 0001		     mov CX, 1		     ;Выводим по одному символу
     50	003B  B0 07		     mov AL, 7h		     ;символ точки
     51	003D  B3 0F		     mov BL, 0fh	     ;Атрибут: ярко белый по черному фону.
     52	003F  B4 09		     mov AH, 09h     ;Выбираем функцию вывода символа и
     53								     ;атрибута в позицию курсора.
     54	0041  CD 10		     int 10h		     ;Вывод символа.
     55
     56	0043  FE C6		     inc DH		     ;Переход к	координате Y+1.
     57	0045  80 FE 0F		     cmp DH, 15		     ;Сравнение с нижней позицией.
Turbo Assembler	 Version 2.51	     03/13/22 18:35:50	    Page 2
el.ASM
ELOCHKA


     58	0048  72 EA		     jb	met1		     ;Если ниже, повторить цикл вывода	    +
     59				     символа.
     60
     61	004A  B4 09		     mov ah, 09h	     ;функция вывода символа
     62	004C  B7 01		     mov bh, 01h	     ;страница 1
     63	004E  B0 07		     mov al, 07h	     ;символ точка
     64	0050  B3 0F		     mov bl, 0fh	     ;ярко белый по черному
     65	0052  B9 0028		     mov cx, 028h    ;40 символов
     66	0055  CD 10		     int 10h		     ;вызов функции	BIOS
     67
     68	0057  33 D2		     xor dx, dx
     69
     70	0059  B4 02		     mov ah, 02h     ;Выбираем функцию установки курсора.
     71	005B  B7 01		     mov bh, 01h	     ;страница 1
     72	005D  B6 00		     mov dh, 0		     ;позиция по Y
     73	005F  B2 27		     mov dl, 39		     ;позиция по X
     74	0061  CD 10		     int 10h		     ;Установка курсора.
     75
     76	0063			     met2:
     77	0063  B4 02		     mov AH, 02h     ;Выбираем функцию установки курсора.
     78	0065  CD 10		     int 10h		     ;Установка курсора.
     79
     80	0067  B9 0001		     mov CX, 1		     ;Выводим по одному символу
     81	006A  B0 07		     mov AL, 7h		     ;символ точки
     82	006C  B3 0F		     mov BL, 0fh	     ;Атрибут: ярко белый по черному фону.
     83	006E  B4 09		     mov AH, 09h     ;Выбираем функцию вывода символа и
     84								     ;атрибута в позицию курсора.
     85	0070  CD 10		     int 10h		     ;Вывод символа.
     86
     87	0072  FE C6		     inc DH		     ;Переход к	координате Y+1.
     88	0074  80 FE 0F		     cmp DH, 15		     ;Сравнение с нижней позицией.
     89	0077  72 EA		     jb	met2		     ;Если ниже, повторить цикл вывода	    +
     90				     символа.
     91
     92				     ;отрисовка ёлки
     93
     94	0079  B4 02		     mov ah, 02h     ;Выбираем функцию установки курсора.
     95	007B  B7 01		     mov bh, 01h	     ;страница 1
     96	007D  B6 06		     mov dh, 6		     ;позиция по Y
     97	007F  B2 13		     mov dl, 19		     ;позиция по X
     98	0081  CD 10		     int 10h		     ;Установка курсора.
     99	0083  B4 09		     mov ah, 09h	     ;отрисовка звезды
    100	0085  B0 0F		     mov al, 0Fh	     ;код символа
    101	0087  B3 04		     mov bl, 04h	     ;атрибут цвета
    102	0089  B9 0001		     mov cx, 1		     ;количество символов 1
    103	008C  CD 10		     int 10h		     ;прерывание
    104				     ;-------------------------------------------------------------------
    105
    106
    107	008E			     elka:
    108
    109	008E  B4 02		     mov ah, 02h     ;Выбираем функцию установки курсора.
    110	0090  B7 01		     mov bh, 01h	     ;страница 1
    111	0092  B6 07		     mov dh, 7		     ;позиция по Y
    112	0094  B2 12		     mov dl, 18		     ;позиция по X
    113	0096  CD 10		     int 10h		     ;Установка курсора.
    114
Turbo Assembler	 Version 2.51	     03/13/22 18:35:50	    Page 3
el.ASM
ELOCHKA


    115	0098  FE C6		     inc dh
    116	009A  FE C2		     inc dl
    117
    118	009C  B4 09		     mov ah, 09h	     ;отрисовка тела
    119	009E  B0 2A		     mov al, 2Ah	     ;код символа
    120	00A0  B3 02		     mov bl, 02h	     ;цвет
    121	00A2  B9 0003		     mov cx, 3		     ;количество символов 3
    122	00A5  CD 10		     int 10h		     ;прерывание
    123	00A7  83 C1 02		     add cx, 2
    124
    125	00AA  80 FE 09		     cmp dh, 9
    126	00AD  72 DF		     jb	elka
    127
    128				     ;--------------------------------------------------------------------------
    129	00AF  B4 02		     mov ah, 02h     ;Выбираем функцию установки курсора.
    130	00B1  B7 01		     mov bh, 01h	     ;страница 1
    131	00B3  B6 0A		     mov dh, 10		     ;позиция по Y
    132	00B5  B2 13		     mov dl, 19		     ;позиция по X
    133	00B7  CD 10		     int 10h		     ;Установка курсора.
    134	00B9  B4 09		     mov ah, 09h	     ;отрисовка тела
    135	00BB  B0 2A		     mov al, 2Ah	     ;код символа
    136	00BD  B3 06		     mov bl, 06h	     ;цвет коричневый
    137	00BF  B9 0001		     mov cx, 1		     ;количество символов 1
    138	00C2  CD 10		     int 10h		     ;прерывание
    139
    140				     ;поздравительная надпись
    141
    142	00C4  B8 0000s		     mov ax, SEG stroka_1
    143	00C7  8E C0		     mov es, ax
    144	00C9  B4 13		     mov ah, 13h
    145	00CB  B0 00		     mov al, 0
    146	00CD  B7 01		     mov bh, 01h
    147	00CF  B9 0005		     mov cx, 5
    148	00D2  B3 1E		     mov bl, 00011110b
    149	00D4  B2 32		     mov dl, 50;x
    150	00D6  B6 04		     mov dh, 4;y
    151	00D8  BD 0000r		     mov bp, offset stroka_1
    152	00DB  CD 10		     int 10h
    153
    154	00DD  B8 0000s		     mov ax, SEG stroka_2
    155	00E0  8E C0		     mov es, ax
    156	00E2  B4 13		     mov ah, 13h
    157	00E4  B0 00		     mov al, 0
    158	00E6  B7 01		     mov bh, 01h
    159	00E8  B9 0003		     mov cx, 3
    160	00EB  B3 1A		     mov bl, 00011010b
    161	00ED  B2 32		     mov dl, 50;x
    162	00EF  B6 05		     mov dh, 5;y
    163	00F1  BD 0005r		     mov bp, offset stroka_1+5
    164	00F4  CD 10		     int 10h
    165
    166	00F6  B8 0000s		     mov ax, SEG stroka_3
    167	00F9  8E C0		     mov es, ax
    168	00FB  B4 13		     mov ah, 13h
    169	00FD  B0 00		     mov al, 0
    170	00FF  B7 01		     mov bh, 01h
    171	0101  B9 0004		     mov cx, 4
Turbo Assembler	 Version 2.51	     03/13/22 18:35:50	    Page 4
el.ASM
ELOCHKA


    172	0104  B3 1A		     mov bl, 0011010b
    173	0106  B2 32		     mov dl, 50;x
    174	0108  B6 06		     mov dh, 6;y
    175	010A  BD 0008r		     mov bp, offset stroka_1+8
    176	010D  CD 10		     int 10h
    177
    178				     End Start
